{"version":3,"file":"Tileset.js","sourceRoot":"","sources":["Tileset.ts"],"names":[],"mappings":";AAAA,IAAO,IAAI,WAAW,QAAQ,CAAC,CAAC;AAGhC;IAcI,iBAAY,WAAe;QAJ3B,mBAAc,GAAG,EAAE,CAAC;QACpB,sBAAiB,GAAG,EAAE,CAAC;QAInB,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC,IAAI,IAAI,EAAE,CAAC;QACnC,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,UAAU,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,GAAI,WAAW,CAAC,SAAS,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC,cAAc,IAAI,EAAE,CAAC;QACvD,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,IAAI,EAAE,CAAC;QAC7D,EAAE,CAAA,CAAC,WAAW,CAAC,KAAK,KAAK,SAAS,CAAC,CAAA,CAAC;YAChC,GAAG,CAAA,CAAC,IAAI,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,CAAA,CAAC;gBACnC,IAAI,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAC,CAAC,CAAC;gBAC/B,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/G,CAAC;QACL,CAAC;QACD,EAAE,CAAA,CAAC,WAAW,CAAC,KAAK,KAAK,SAAS,CAAC,CAAA,CAAC;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,GAAE,WAAW,CAAC,UAAU,CAAC,CAAC;YACvE,IAAI,GAAG,GAAG,WAAW,CAAC,QAAQ,CAAC;YAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,GAAC,WAAW,CAAC,OAAO,CAAC;YAC1C,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,EAAC,CAAC,EAAE,EAAC,CAAC;gBACpB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,WAAW,CAAC,OAAO,EAAC,CAAC,EAAE,EAAC,CAAC;oBACnC,IAAI,EAAE,GAAG,CAAC,GAAE,WAAW,CAAC,SAAS,CAAC;oBAClC,IAAI,EAAE,GAAG,CAAC,GAAE,WAAW,CAAC,UAAU,CAAC;oBACnC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,WAAW,CAAC,SAAS,EAAC,WAAW,CAAC,UAAU,CAAC,CAAC;oBACxG,GAAG,EAAE,CAAC;gBACV,CAAC;YAEL,CAAC;QACL,CAAC;IACL,CAAC;IAEM,eAAO,GAAd,UAAe,MAAM;QACjB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IArCM,aAAK,GAAU,EAAE,CAAC;IAsC7B,cAAC;AAAD,CAAC,AAlDD,IAkDC;AAED,iBAAS,OAAO,CAAC","sourcesContent":["import Tile = require(\"./Tile\");\nimport ImageLoader = require(\"../ImageLoader\");\nimport Tilemap = require(\"./Tilemap\");\nclass Tileset{\n\n    columns:number;\n    firstgid:number;\n    margin:number;\n    name:string;\n    spacing:number;\n    tilecount:number;\n    tileheight:number;\n    tilewidth:number;\n    tileproperties = [];\n    tilepropertytypes = [];\n    static tiles:Tile[] = [];\n\n    constructor(tilesetdata:any){\n        this.columns = tilesetdata.columns || 0;\n        this.firstgid = tilesetdata.firstgid || 0;\n        this.margin = tilesetdata.margin || 0;\n        this.name = tilesetdata.name || \"\";\n        this.spacing = tilesetdata.spacing || 0;\n        this.tilecount = tilesetdata.tilecount || 0;\n        this.tileheight = tilesetdata.tileheight || 0;\n        this.tilewidth  = tilesetdata.tilewidth || 0;\n        this.tileproperties = tilesetdata.tileproperties || [];\n        this.tilepropertytypes = tilesetdata.tilepropertytypes || [];\n        if(tilesetdata.tiles !== undefined){\n            for(let property in tilesetdata.tiles){\n                let pos = parseInt(property)+1;\n                Tileset.tiles[pos] = new Tile(tilesetdata.tiles[property][\"image\"],pos,0,0,this.tilewidth,this.tileheight);\n            }\n        }\n        if(tilesetdata.tiles === undefined){\n            let rows = Math.floor(tilesetdata.imageheight/ tilesetdata.tileheight);\n            let pos = tilesetdata.firstgid;\n            this.tilecount = rows*tilesetdata.columns;\n            for(let x=0;x<rows;x++){\n                for(let y=0;y<tilesetdata.columns;y++){\n                    let px = y* tilesetdata.tilewidth;\n                    let py = x* tilesetdata.tileheight;\n                    Tileset.tiles[pos] = new Tile(tilesetdata.image,pos,px,py,tilesetdata.tilewidth,tilesetdata.tileheight);\n                    pos++;\n                }\n\n            }\n        }\n    }\n\n    static getTile(tileID){\n        return Tileset.tiles[tileID];\n    }\n}\n\nexport = Tileset;"]}
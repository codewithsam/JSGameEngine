{"version":3,"file":"Assets.js","sourceRoot":"","sources":["Assets.ts"],"names":[],"mappings":";AAAA,IAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,IAAO,WAAW,WAAW,eAAe,CAAC,CAAC;AAC9C,IAAO,WAAW,WAAW,eAAe,CAAC,CAAC;AAE9C;IAKI,gBAAY,IAAI;QACZ,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,SAAS,GAAM,SAAS,mEAAgE,CAAC;QAC7F,IAAI,CAAC,GAAG,GAAG,WAAW,CAAC,SAAS,CAAC,SAAS,EAAC;YACvC,IAAI,CAAC,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IAEP,CAAC;IACD,2BAAU,GAAV;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAChC,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;YAC/B,IAAI,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC9B,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,KAAK,CAAC,CAAC,EAAC,KAAK,CAAC,CAAC,EAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACrE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG;gBACnB,EAAE,EAAE,CAAC;gBACL,MAAM,EAAE,aAAa;gBACrB,GAAG,EAAE,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC;aACtC,CAAC;QACN,CAAC;IACL,CAAC;IAxBa,iBAAU,GAAG,EAAE,CAAC;IAyBlC,aAAC;AAAD,CAAC,AA3BD,IA2BC;AACD,iBAAS,MAAM,CAAC","sourcesContent":["const fs = require('fs');\nimport SpriteSheet = require('./SpriteSheet');\nimport ImageLoader = require('./ImageLoader');\n\nclass Assets{\n    private sheet;\n    public static tileAssets = [];\n    public data;\n    private img;\n    constructor(path){\n        var self = this;\n        var imagepath = `${__dirname}/../../../res/textures/PlatformPack/Tile-SpriteSheet/tiles.png`;\n        this.img = ImageLoader.loadImage(imagepath,function(){\n            self.sheet = new SpriteSheet(this);\n            self.data = JSON.parse(fs.readFileSync(path));\n            self.loadAssets();\n        });\n\n    }\n    loadAssets() {\n        var tileinfo = this.data.frames;\n        for(let i=0;i<tileinfo.length;i++){\n            var frame = tileinfo[i].frame;\n            var canvasELement = this.sheet.crop(frame.x,frame.y,frame.w,frame.h);\n            Assets.tileAssets[i] = {\n                id: i,\n                canvas: canvasELement,\n                ctx: canvasELement.getContext(\"2d\")\n            };\n        }\n    }\n}\nexport = Assets;"]}